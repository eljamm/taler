# This file is in the public domain.
#
[PATHS]
# Persistent data storage for the testcase
# TALER_TEST_HOME = test_merchant_api_home/
TALER_RUNTIME_DIR = ${TMPDIR:-${TMP:-/tmp}}/${USER:-}/taler-system-runtime/

# Persistent data storage
TALER_DATA_HOME = $TALER_HOME/.local/share/taler/

# Configuration files
TALER_CONFIG_HOME = $TALER_HOME/.config/taler/

# Cached data, no big deal if lost
TALER_CACHE_HOME = $TALER_HOME/.cache/taler/

[taler]
CURRENCY = KUDOS
CURRENCY_ROUND_UNIT = KUDOS:0.01

[taler-helper-crypto-rsa]
# Reduce from 1 year to speed up test
LOOKAHEAD_SIGN = 24 days

[taler-helper-crypto-eddsa]
# Reduce from 1 year to speed up test
LOOKAHEAD_SIGN = 24 days
# Reduce from 12 weeks to ensure we have multiple
DURATION = 14 days

[bank]
HTTP_PORT = 8082

##########################################
# Configuration for the merchant backend #
##########################################

[merchant]

# Which port do we run the backend on? (HTTP server)
PORT = 8083
SERVE = tcp

# Which plugin (backend) do we use for the DB.
DB = postgres

# Other
LEGAL_PRESERVATION = 10 years

# This specifies which database the postgres backend uses.
[merchantdb-postgres]
CONFIG = postgres:///exchange
SQL_DIR = $DATADIR/sql/merchant/

# Sections starting with "merchant-exchange-" specify trusted exchanges
# (by the merchant)
[merchant-exchange-test]
MASTER_KEY = NKX42KSCQHDQK7CF1PC6X9DMQPXW6KHXKGD3DPQJMP32FKXSWYK0
EXCHANGE_BASE_URL = http://localhost:8081/
CURRENCY = KUDOS


#######################################################
# Configuration for the auditor for the testcase
#######################################################
[auditor]
BASE_URL = http://the.auditor/


#######################################################
# Configuration for ??? Is this used?
#######################################################

# Auditors must be in sections "auditor-", the rest of the section
# name could be anything.
[auditor-ezb]
# Informal name of the auditor. Just for the user.
NAME = European Central Bank

# URL of the auditor (especially for in the future, when the
# auditor offers an automated issue reporting system).
# Not really used today.
URL = http://taler.ezb.eu/

# This is the important bit: the signing key of the auditor.
PUBLIC_KEY = 9QXF7XY7E9VPV47B5Z806NDFSX2VJ79SVHHD29QEQ3BG31ANHZ60

# Which currency is this auditor trusted for?
CURRENCY = KUDOS


###################################################
# Configuration for the exchange for the testcase #
###################################################

[exchange]
AML_THRESHOLD = KUDOS:1000000
DB = postgres
PORT = 8081
MASTER_PUBLIC_KEY = 6D304A6WMPMX1NYRJS32E0CXEMDJMXKQZP7KG8VMK31DB074BVX0
BASE_URL = "http://localhost:8081/"


[exchangedb-postgres]
CONFIG = "postgres:///exchange"


[auditordb-postgres]
CONFIG = postgres:///exchange


# Account of the EXCHANGE
[exchange-account-exchange]
# What is the exchange's bank account (with the "Taler Bank" demo system)?
PAYTO_URI = "payto://x-taler-bank/localhost/exchange?receiver-name=exchange"
ENABLE_DEBIT = YES
ENABLE_CREDIT = YES

[exchange-accountcredentials-exchange]
WIRE_GATEWAY_URL = "http://localhost:8082/accounts/exchange/taler-wire-gateway/"
WIRE_GATEWAY_AUTH_METHOD = BASIC
USERNAME = "exchange"
PASSWORD = "exchange"

[admin-accountcredentials-exchange]
WIRE_GATEWAY_URL = "http://localhost:8082/accounts/exchange/taler-wire-gateway/"
WIRE_GATEWAY_AUTH_METHOD = BASIC
USERNAME = "exchange"
PASSWORD = "exchange"


# # https://docs.taler.net/manpages/taler.conf.5.html#exchange-coin-options
# [coin_eur_ct_1]
# value = EUR:0.01
# duration_withdraw = 7 days
# duration_spend = 2 years
# duration_legal = 3 years
# fee_withdraw = EUR:0.00
# fee_deposit = EUR:0.00
# fee_refresh = EUR:0.01
# fee_refund = EUR:0.01
# rsa_keysize = 1024
# CIPHER = CS
#
# [coin_eur_ct_10]
# value = EUR:0.10
# duration_withdraw = 7 days
# duration_spend = 2 years
# duration_legal = 3 years
# fee_withdraw = EUR:0.01
# fee_deposit = EUR:0.01
# fee_refresh = EUR:0.03
# fee_refund = EUR:0.01
# rsa_keysize = 1024
# CIPHER = CS
#
# [coin_eur_1]
# value = EUR:1
# duration_withdraw = 7 days
# duration_spend = 2 years
# duration_legal = 3 years
# fee_withdraw = EUR:0.01
# fee_deposit = EUR:0.01
# fee_refresh = EUR:0.03
# fee_refund = EUR:0.01
# rsa_keysize = 1024
# CIPHER = CS
#
# [coin_eur_5]
# value = EUR:5
# duration_withdraw = 7 days
# duration_spend = 2 years
# duration_legal = 3 years
# fee_withdraw = EUR:0.01
# fee_deposit = EUR:0.01
# fee_refresh = EUR:0.03
# fee_refund = EUR:0.01
# rsa_keysize = 1024
# CIPHER = CS


# $ taler-harness deployment gen-coin-config \
#         --min-amount $CURRENCY:0.1 \
#         --max-amount $CURRENCY:20

# Coin configuration for the exchange.
# Should be placed in "/etc/taler/conf.d/exchange-coins.conf".

[COIN-KUDOS-n1-t1718140083]
VALUE = KUDOS:0.1
DURATION_WITHDRAW = 7 days
DURATION_SPEND = 2 years
DURATION_LEGAL = 6 years
FEE_WITHDRAW = KUDOS:0
FEE_DEPOSIT = KUDOS:0.1
FEE_REFRESH = KUDOS:0
FEE_REFUND = KUDOS:0
RSA_KEYSIZE = 2048
CIPHER = RSA

[COIN-KUDOS-n2-t1718140083]
VALUE = KUDOS:0.2
DURATION_WITHDRAW = 7 days
DURATION_SPEND = 2 years
DURATION_LEGAL = 6 years
FEE_WITHDRAW = KUDOS:0
FEE_DEPOSIT = KUDOS:0.1
FEE_REFRESH = KUDOS:0
FEE_REFUND = KUDOS:0
RSA_KEYSIZE = 2048
CIPHER = RSA

[COIN-KUDOS-n3-t1718140083]
VALUE = KUDOS:0.4
DURATION_WITHDRAW = 7 days
DURATION_SPEND = 2 years
DURATION_LEGAL = 6 years
FEE_WITHDRAW = KUDOS:0
FEE_DEPOSIT = KUDOS:0.1
FEE_REFRESH = KUDOS:0
FEE_REFUND = KUDOS:0
RSA_KEYSIZE = 2048
CIPHER = RSA

[COIN-KUDOS-n4-t1718140083]
VALUE = KUDOS:0.8
DURATION_WITHDRAW = 7 days
DURATION_SPEND = 2 years
DURATION_LEGAL = 6 years
FEE_WITHDRAW = KUDOS:0
FEE_DEPOSIT = KUDOS:0.1
FEE_REFRESH = KUDOS:0
FEE_REFUND = KUDOS:0
RSA_KEYSIZE = 2048
CIPHER = RSA

[COIN-KUDOS-n5-t1718140083]
VALUE = KUDOS:1.6
DURATION_WITHDRAW = 7 days
DURATION_SPEND = 2 years
DURATION_LEGAL = 6 years
FEE_WITHDRAW = KUDOS:0
FEE_DEPOSIT = KUDOS:0.1
FEE_REFRESH = KUDOS:0
FEE_REFUND = KUDOS:0
RSA_KEYSIZE = 2048
CIPHER = RSA

[COIN-KUDOS-n6-t1718140083]
VALUE = KUDOS:3.2
DURATION_WITHDRAW = 7 days
DURATION_SPEND = 2 years
DURATION_LEGAL = 6 years
FEE_WITHDRAW = KUDOS:0
FEE_DEPOSIT = KUDOS:0.1
FEE_REFRESH = KUDOS:0
FEE_REFUND = KUDOS:0
RSA_KEYSIZE = 2048
CIPHER = RSA

[COIN-KUDOS-n7-t1718140083]
VALUE = KUDOS:6.4
DURATION_WITHDRAW = 7 days
DURATION_SPEND = 2 years
DURATION_LEGAL = 6 years
FEE_WITHDRAW = KUDOS:0
FEE_DEPOSIT = KUDOS:0.1
FEE_REFRESH = KUDOS:0
FEE_REFUND = KUDOS:0
RSA_KEYSIZE = 2048
CIPHER = RSA

[COIN-KUDOS-n8-t1718140083]
VALUE = KUDOS:12.8
DURATION_WITHDRAW = 7 days
DURATION_SPEND = 2 years
DURATION_LEGAL = 6 years
FEE_WITHDRAW = KUDOS:0
FEE_DEPOSIT = KUDOS:0.1
FEE_REFRESH = KUDOS:0
FEE_REFUND = KUDOS:0
RSA_KEYSIZE = 2048
CIPHER = RSA

[libeufin-bank]
CURRENCY = KUDOS

SERVE = tcp
PORT = 8082
BIND_TO = 192.168.1.120

# Supported payment target type
WIRE_TYPE = x-taler-bank
# If WIRE_TYPE = x-taler-bank
X_TALER_BANK_PAYTO_HOSTNAME = http://localhost:8082
# If WIRE_TYPE = iban
#IBAN_PAYTO_BIC = SANDBOXX

REGISTRATION_BONUS = KUDOS:1000
ALLOW_REGISTRATION = yes
ALLOW_ACCOUNT_DELETION = yes

SUGGESTED_WITHDRAWAL_EXCHANGE  = http://localhost:8081

[libeufin-bankdb-postgres]
CONFIG = postgresql:///kuroko
